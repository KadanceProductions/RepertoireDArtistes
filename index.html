<!DOCTYPE html>
<html>

<head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        @import url("https://unpkg.com/@picocss/pico@latest/css/pico.min.css");

        #loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            backdrop-filter: blur(5px);
            background-color: rgba(255, 255, 255, 0.6);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            font-family: sans-serif;
            transition: opacity 0.3s ease;
            opacity: 0;
        }

        #loading-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .loading-content {
            text-align: center;
            color: #333;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 6px solid rgba(0, 123, 255, 0.15);
            border-top-color: #007BFF;
            border-top-color: #007BFF;
            border-radius: 50%;
            animation: spin 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.3);
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .autocomplete-input {
            padding: 8px;
            font-size: 14px;
            width: 100%;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
            transition: border-color 0.3s ease;
        }

        .autocomplete-input:focus {
            border-color: #007BFF;
            outline: none;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.4);
        }

        body {
            padding: 2rem;
            max-width: 720px;
            margin: auto;
        }

        img {
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        form>div {
            margin-bottom: 1.5rem;
        }

        label {
            font-weight: bold;
        }

        button {
            width: 100%;
        }

        input {
            transition: border 0.2s, background-color 0.2s;
        }

        /* Red when invalid */
        .invalid {
            border: 2px solid red !important;
        }

        /* Green when valid */
        .valid {
            border: 2px solid green !important;
        }

        /* Optional: add margin below error fields */
        .invalid+small {
            color: red;
            display: block;
        }

        small {
            color: grey;
            font-style: italic;
            font-size: 13px;
        }
    </style>
    <script type="text/javascript" defer>
        const config = {
            'Type de performance': { type: 'radio' },
            'Style musique': { type: 'select' },
            'Style Prestation': { type: 'select' },
            'Sous style musique 1': { type: 'select' },
            'Sous style musique 2': { type: 'select' },
            'Sous style musique 3': { type: 'select' },
            'Sous-style Danse 1': { type: 'select' },
            'Sous-style Danse 2': { type: 'select' },
            'Sous-style Danse 3': { type: 'select' },
            'Sous-style Cirque 1': { type: 'select' },
            'Sous-style Cirque 2': { type: 'select' },
            'Sous-style Cirque 3': { type: 'select' },
            'Sous-style Performances Alternatives et Artistiques 1': { type: 'select' },
            'Sous-style Performances Alternatives et Artistiques 2': { type: 'select' },
            'Sous-style Performances Alternatives et Artistiques 3': { type: 'select' },
            'Sous-style Fireworks 1': { type: 'select' },
            'Sous-style Fireworks 2': { type: 'select' },
            'Sous-style Fireworks 3': { type: 'select' },
            'Sous-style Théatre 1': { type: 'select' },
            'Sous-style Théatre 2': { type: 'select' },
            'Sous-style Théatre 3': { type: 'select' },
            'Sous-style Performances Visuelle 1': { type: 'select' },
            'Sous-style Performances Visuelle 2': { type: 'select' },
            'Sous-style Performances Visuelle 3': { type: 'select' },
            'Identité de genre': { type: 'checkbox' },
            'Prestation': { type: 'radio' }
        };
        async function fetchChoicesFromSheet(fieldName, columnIndex) {
            const sheetId = "1AxfqY8RCyJA7CuGLx2RrwQIUUPkvwjrDUdFzsNH8kP0";
            const url = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json&sheet=Database`;

            try {
                const response = await fetch(url);
                const text = await response.text();

                const json = JSON.parse(text.substring(47, text.length - 2));

                const rows = json.table.rows;
                const dataRows = rows.slice(1);
                const choicesList = dataRows.map(row => {
                    const cell = row.c[columnIndex];
                    return cell && cell.v ? cell.v.trim() : null;
                }).filter(val => val);

                return choicesList;
            } catch (error) {
                console.error("Failed to fetch choices for", fieldName, error);
                return [];
            }
        }

        const choices = {};

        const columnMap = {
            'Type de performance': 0,
            'Style musique': 1,
            'Style Prestation': 2,
            'Sous style musique 1': 3,
            'Sous style musique 2': 3,
            'Sous style musique 3': 3,
            'Sous-style Danse 1': 4,
            'Sous-style Danse 2': 4,
            'Sous-style Danse 3': 4,
            'Sous-style Cirque 1': 5,
            'Sous-style Cirque 2': 5,
            'Sous-style Cirque 3': 5,
            'Sous-style Performances Alternatives et Artistiques 1': 6,
            'Sous-style Performances Alternatives et Artistiques 2': 6,
            'Sous-style Performances Alternatives et Artistiques 3': 6,
            'Sous-style Fireworks 1': 7,
            'Sous-style Fireworks 2': 7,
            'Sous-style Fireworks 3': 7,
            'Sous-style Théatre 1': 8,
            'Sous-style Théatre 2': 8,
            'Sous-style Théatre 3': 8,
            'Sous-style Performances Visuelle 1': 9,
            'Sous-style Performances Visuelle 2': 9,
            'Sous-style Performances Visuelle 3': 9,
            'Identité de genre': 10,
            'Prestation': 11
        };

        async function loadChoices() {
            for (let label in config) {
                const colIndex = columnMap[label];
                if (colIndex == null) continue;

                const data = await fetchChoicesFromSheet(label, colIndex);
                choices[label] = data;
                populateField(label);

                const sectionId = getId(label).split("_").slice(0, -1).join("_");
                const section = document.getElementById(sectionId);
                if (section) section.style.display = "block";
            }
        }

        function checkSubAnswersForPersonalFields() {

            const personalSection = document.getElementById("personal-questions");

            // List of sub-style and sub-music IDs to check
            const idsMusiqueToCheck = [
                "Sous_style_musique_1", "Sous_style_musique_2", "Sous_style_musique_3"
            ];

            const idsPrestationToCheck = [
                "Sousstyle_Danse_1", "Sousstyle_Danse_2", "Sousstyle_Danse_3",
                "Sousstyle_Cirque_1", "Sousstyle_Cirque_2", "Sousstyle_Cirque_3",
                "Sousstyle_Performances_Alternatives_et_Artistiques_1",
                "Sousstyle_Performances_Alternatives_et_Artistiques_2",
                "Sousstyle_Performances_Alternatives_et_Artistiques_3",
                "Sousstyle_Fireworks_1", "Sousstyle_Fireworks_2", "Sousstyle_Fireworks_3",
                "Sousstyle_Thatre_1", "Sousstyle_Thatre_2", "Sousstyle_Thatre_3",
                "Sousstyle_Performances_Visuelle_1", "Sousstyle_Performances_Visuelle_2", "Sousstyle_Performances_Visuelle_3"
            ];

            const hasMusiqueSubAnswer = idsMusiqueToCheck.some(id => {
                const container = document.getElementById(id);
                if (!container) return false;

                const input = container.querySelector("input[list]");
                const value = input && typeof input.value === 'string' ? input.value.trim() : "";

                return !!value;
            });
            const hasPrestationSubAnswer = idsPrestationToCheck.some(id => {
                const container = document.getElementById(id);
                if (!container) return false;

                const input = container.querySelector("input[list]");
                const value = input && typeof input.value === 'string' ? input.value.trim() : "";

                return !!value;
            });

            const prestationValue = document.querySelector("#Style_Prestation input")?.value?.trim() || "";
            const musicaleValue = document.querySelector("#Style_musique input")?.value?.trim() || "";

            if ((hasMusiqueSubAnswer && musicaleValue) || (hasPrestationSubAnswer)) {
                personalSection.style.display = "block";
            } else if (!prestationValue) {
                personalSection.style.display = "none";
            }
        }

        function checkAnswersForThankYou() {
            const thankYouSection = document.getElementById("thank-you");

            // List ofIDs to check
            const idsToCheck = ['Nom_artiste', 'mail', 'tel', 'adresse'];

            const show = idsToCheck.some(id => {
                const el = document.getElementById(id);
                if (!el) return false;

                const input = el.querySelector("input[list]");
                const value = input?.value?.trim() || "";

                return !!value;
            });
            thankYouSection.style.display = show ? "block" : "none";
        }


        function setupLiveValidation() {
            const requiredFields = ['mail', 'tel', 'Prestation', 'adresse', 'annee'];

            requiredFields.forEach(id => {
                const field = document.getElementById(id);
                if (!field) return;

                field.addEventListener('input', () => {

                    const value = field?.value?.trim() || "";

                    // Remove both states before re-evaluating
                    field.classList.remove('invalid', 'valid');

                    // Skip validation if empty (no style)
                    if (!value) return;

                    // Email format
                    if (id === 'mail') {
                        const el = document.getElementById(id);
                        const isValidEmail = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(value);
                        field.classList.add(isValidEmail ? 'valid' : 'invalid');

                        updateSubmitVisibility();
                        const small = el.nextElementSibling;
                        if (small && small.tagName.toLowerCase() === 'small') {
                            if (!isValidEmail) {
                                small.textContent = "La valeur entrée n'est pas conforme";
                            } else {
                                small.textContent = "Ce champ est requis"; // Or restore the default
                            }
                        }
                        return;
                    }

                    // Phone format
                    if (id === 'tel') {
                        const el = document.getElementById(id);
                        const isValidPhone = /^\+?[\d\s().-]{10,20}$/.test(value);
                        field.classList.add(isValidPhone ? 'valid' : 'invalid');
                        updateSubmitVisibility();
                        const small = el.nextElementSibling;
                        if (small && small.tagName.toLowerCase() === 'small') {
                            if (!isValidPhone) {
                                small.textContent = "La valeur entrée n'est pas conforme";
                            } else {
                                small.textContent = "Ce champ est requis"; // Or restore the default
                            }
                        }
                        return;
                    }

                    // For all other fields: not empty = valid
                    field.classList.add(value ? 'valid' : 'invalid');
                    updateSubmitVisibility();
                });

            });
        }
        const fieldOrder = [
            'Type_de_performance',
            'Style_musique',
            'Sous_style_musique_1',
            'Sous_style_musique_2',
            'Sous_style_musique_3',
            'Style_Prestation',
            'Sousstyle_Danse_1',
            'Sousstyle_Danse_2',
            'Sousstyle_Danse_3',
            'Sousstyle_Cirque_1',
            'Sousstyle_Cirque_2',
            'Sousstyle_Cirque_3',
            'Sousstyle_Performances_Alternatives_et_Artistiques_1',
            'Sousstyle_Performances_Alternatives_et_Artistiques_2',
            'Sousstyle_Performances_Alternatives_et_Artistiques_3',
            'Sousstyle_Fireworks_1',
            'Sousstyle_Fireworks_2',
            'Sousstyle_Fireworks_3',
            'Sousstyle_Thatre_1',
            'Sousstyle_Thatre_2',
            'Sousstyle_Thatre_3',
            'Sousstyle_Performances_Visuelle_1',
            'Sousstyle_Performances_Visuelle_2',
            'Sousstyle_Performances_Visuelle_3',
            'prenom',
            'nom',
            'Identit_de_genre',
            'Prestation',
            'Nom_artiste',
            'mail',
            'tel',
            'adresse',
            'annee',
            'reseaux',
            'liens',
            'parle'
        ];
        async function submitFormData(data) {
            const formData = new URLSearchParams();

            // Manually flatten data into formData
            for (const key in data) {
                formData.append(key, data[key]);
            }
            const response = await fetch("https://script.google.com/macros/s/AKfycbz82NKJMyLHA4Bx6fEdoZOCAuzjTm8SNEbeTvM85Fih6orFBv2HXr_gN9GIrU6Tl0ms/exec", {
                method: "POST",
            body: formData
            });
            const text = await response.text();

            return JSON.parse(text);
        }

        async function submitForm() {
          const data = {};
          let allValid = true;

          const requiredFields = [
            'mail', 'tel', 'Prestation', 'adresse', 'annee'
          ];

          const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          const phoneRegex = /^\+?[\d\s().-]{10,20}$/;

          fieldOrder.forEach(id => {
            const inputs = document.getElementsByName(id);
            let value = "";

            if (inputs.length > 1 && inputs[0].type === 'radio') {
              const selected = Array.from(inputs).find(radio => radio.checked);
              value = selected?.value?.trim() || "";
            } else if (inputs.length > 1 && inputs[0].type === 'checkbox') {
              const selected = [];
              for (const checkbox of inputs) {
                if (checkbox.checked) {
                  if (checkbox.value === '__autre__') {
                    const otherInput = document.getElementById(id + '_autre');
                    if (otherInput && otherInput.value) {
                      selected.push(otherInput.value.trim());
                    }
                  } else {
                    selected.push(checkbox.value);
                  }
                }
              }
              value = selected.join(', ');
            } else if (inputs.length === 1) {
              const input = inputs[0];
              value = input.value?.trim() || "";
            } else {
              // Try fallback from element by ID
              const el = document.getElementById(id);
              if (el && el.tagName === 'INPUT') {
                value = el.value || "";
              } else if (el) {
                const input = el.querySelector('input, select, textarea');
                if (input) value = input.value?.trim() || "";
              }
            }

            data[id] = value;

            // Validation (only if required)
            if (requiredFields.includes(id)) {
              const el = document.getElementById(id) || document.querySelector(`[name="${id}"]`);
              el?.classList.remove("invalid");

              if (!value) {
                allValid = false;
                el?.classList.add("invalid");
              } else if (id === 'mail' && !emailRegex.test(value)) {
                allValid = false;
                el?.classList.add("invalid");
              } else if (id === 'tel' && !phoneRegex.test(value)) {
                allValid = false;
                el?.classList.add("invalid");
              }
            }
          });

          if (allValid) {
            const overlay = document.getElementById("loading-overlay");
            overlay.style.display = "flex";
            requestAnimationFrame(() => { overlay.style.opacity = "1"; });


            try {
                const result = await submitFormData(data);

                if (result.status === "success") {
                setTimeout(() => {
                    document.querySelector("form").style.display = "none";
                    document.getElementById("hello").style.display = "none";
                    document.getElementById("hello_header").style.display = "none";

                    overlay.style.opacity = "0";
                    setTimeout(() => { overlay.style.display = "none"; }, 300);

                    document.getElementById("thank-you").style.display = "block";
                    document.getElementById("thanks_header").style.display = "block";
                }, 300);
                } else {
                throw new Error(result.message || "Échec de l'envoi");
                }
            } catch (error) {
                console.error("Erreur lors de la soumission :", error);
                alert("Une erreur est survenue lors de la soumission du formulaire.");
                overlay.style.display = "none";
            }
        }
    }

        function renderCheckboxes(label, id, container) {
            (choices[label] || []).forEach((choice, index) => {
                const checkboxId = `${id}_${index}`;
                const checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                checkbox.id = checkboxId;
                checkbox.name = id;
                checkbox.value = choice;

                const labelEl = document.createElement("label");
                labelEl.setAttribute("for", checkboxId);
                labelEl.textContent = choice;

                container.appendChild(checkbox);
                container.appendChild(labelEl);
                container.appendChild(document.createElement("br"));
            });

            // Add 'Autre' checkbox
            const otherCheckboxId = `${id}_autre_checkbox`;
            const otherCheckbox = document.createElement("input");
            otherCheckbox.type = "checkbox";
            otherCheckbox.id = otherCheckboxId;
            otherCheckbox.name = id;
            otherCheckbox.value = "__autre__";

            const otherLabelEl = document.createElement("label");
            otherLabelEl.setAttribute("for", otherCheckboxId);
            otherLabelEl.textContent = "Autre...";

            const otherInput = document.createElement("input");
            otherInput.type = "text";
            otherInput.placeholder = "Veuillez préciser...";
            otherInput.id = id + "_autre";
            otherInput.name = id + "_autre";
            otherInput.style.display = "none";

            otherCheckbox.onchange = () => {
                otherInput.style.display = otherCheckbox.checked ? "block" : "none";
            };

            container.appendChild(otherCheckbox);
            container.appendChild(otherLabelEl);
            container.appendChild(document.createElement("br"));
            container.appendChild(otherInput);
        }

        function populateField(label) {
            const id = getId(label);
            const fieldConfig = config[label];
            const container = document.getElementById(id);
            container.innerHTML = '';

            if (fieldConfig.type === 'select') {
                // Create autocomplete input and datalist
                const input = document.createElement("input");
                input.type = "text";
                input.name = id;
                input.id = id;
                input.setAttribute("list", `${id}_datalist`);
                input.placeholder = "";
                input.classList.add("autocomplete-input"); // Optional class for styling

                const datalist = document.createElement("datalist");
                datalist.id = `${id}_datalist`;

                // Add predefined choices
                (choices[label] || []).forEach(choice => {
                    const opt = document.createElement("option");
                    opt.value = choice;
                    datalist.appendChild(opt);
                });

                // Input listener
                input.addEventListener("input", () => {

                    const value = input?.value?.trim() || "";

                    if (label === 'Style Prestation') {
                        handlePrestationSubtypeDisplay(value);
                    }
                    checkSubAnswersForPersonalFields();
                    checkAnswersForThankYou();
                });

                container.appendChild(input);
                container.appendChild(datalist);

            } else if (fieldConfig.type === 'radio') {
                (choices[label] || []).forEach((choice, index) => {
                    const radioId = `${id}_${index}`;
                    const radio = document.createElement("input");
                    radio.type = "radio";
                    radio.id = radioId;
                    radio.name = id;
                    radio.value = choice;
                    if (id === 'Type_de_performance') {
                        radio.onclick = () => {
                            resetMusiqueAndPrestationSections();
                            handlePerformanceTypeDisplay(choice);
                        };
                    }
                    else {
                        radio.addEventListener('change', () => {

                            updateSubmitVisibility(); // Re-evaluate submit visibility
                        });
                    }

                    const labelEl = document.createElement("label");
                    labelEl.setAttribute("for", radioId);
                    labelEl.textContent = choice;

                    container.appendChild(radio);
                    container.appendChild(labelEl);
                    container.appendChild(document.createElement("br"));
                });

            } else if (fieldConfig.type === 'checkbox') {
                renderCheckboxes(label, id, container);
            }
        }

        function resetMusiqueAndPrestationSections() {
            const musiqueIds = [
                "Style_musique",
                "Sous_style_musique_1",
                "Sous_style_musique_2",
                "Sous_style_musique_3"
            ];

            const prestationIds = [
                "Style_Prestation",
                "Sousstyle_Danse_1", "Sousstyle_Danse_2", "Sousstyle_Danse_3",
                "Sousstyle_Cirque_1", "Sousstyle_Cirque_2", "Sousstyle_Cirque_3",
                "Sousstyle_Performances_Alternatives_et_Artistiques_1",
                "Sousstyle_Performances_Alternatives_et_Artistiques_2",
                "Sousstyle_Performances_Alternatives_et_Artistiques_3",
                "Sousstyle_Fireworks_1", "Sousstyle_Fireworks_2", "Sousstyle_Fireworks_3",
                "Sousstyle_Thatre_1", "Sousstyle_Thatre_2", "Sousstyle_Thatre_3",
                "Sousstyle_Performances_Visuelle_1", "Sousstyle_Performances_Visuelle_2", "Sousstyle_Performances_Visuelle_3"
            ];

            [...musiqueIds, ...prestationIds].forEach(id => {
                const container = document.getElementById(id);
                const input = container?.querySelector("input");

                if (input) input.value = "";

                // Optional: hide related blocks
                const wrapper = container.closest("div[id^='prestation-'], div[id='music-questions']");
                if (wrapper && id.startsWith("Sousstyle_")) {
                    wrapper.style.display = "none";
                }
            });

            // Also hide main section blocks if needed
            const prestationSection = document.getElementById("prestation-questions");
            const personalSection = document.getElementById("personal-questions");
            const musicSection = document.getElementById("music-questions");
            if (prestationSection) prestationSection.style.display = "none";
            if (personalSection) personalSection.style.display = "none";
            if (musicSection) musicSection.style.display = "none";
        }


        function getId(label) {
            return label.replace(/\s+/g, '_').replace(/[^a-zA-Z0-9_]/g, '');
        }

        function handlePerformanceTypeDisplay(value) {
            document.getElementById("music-questions").style.display = value === "Musicale" ? 'block' : 'none';
            document.getElementById("prestation-questions").style.display = value === "Prestation" ? 'block' : 'none';
        }

        function updateSubmitVisibility() {
            const requiredFields = ['mail', 'tel', 'adresse', 'annee'];
            const submitContainer = document.getElementById("submit-container");

            const allValid = requiredFields.every(id => {
                const field = document.getElementById(id);
                return field && field.classList.contains("valid");
            });

            const radios = document.getElementsByName('Prestation');
            const r = Array.from(radios).some(radio => radio.checked);

            submitContainer.style.display = allValid && r ? "block" : "none";
        }

        function handlePrestationSubtypeDisplay(value) {
            const map = {
                'Danse': ['prestation-danse-1', 'prestation-danse-2', 'prestation-danse-3'],
                'Cirque': ['prestation-cirque-1', 'prestation-cirque-2', 'prestation-cirque-3'],
                'Performances Alternatives et Artistiques': ['prestation-alt-1', 'prestation-alt-2', 'prestation-alt-3'],
                'Firework': ['prestation-firework-1', 'prestation-firework-2', 'prestation-firework-3'],
                'Théâtre': ['prestation-theatre-1', 'prestation-theatre-2', 'prestation-theatre-3'],
                'Performances Visuelle': ['prestation-perf-visuelle-1', 'prestation-perf-visuelle-2', 'prestation-perf-visuelle-3']
            };

            const trimmedValue = (value || "").trim();
            const personalSection = document.getElementById("personal-questions");

            // Hide all sub-style sections first
            Object.values(map).flat().forEach(id => {
                const el = document.getElementById(id);
                if (el) el.style.display = 'none';
            });

            // Show sub-style group if it's a recognized value
            if (map[trimmedValue]) {
                map[trimmedValue].forEach(id => {
                    const el = document.getElementById(id);
                    if (el) el.style.display = 'block';
                });
                if (personalSection) personalSection.style.display = "none";
            } else {
                // For custom values: Show personal section if there's any input
                if (trimmedValue.length > 0) {
                    personalSection.style.display = "block";
                } else {
                    personalSection.style.display = "none";
                }
            }
        }

        window.onload = () => {
            loadChoices();
            setupLiveValidation();

            updateSubmitVisibility();
        };

    </script>
</head>

<body>

    <div id="hello_header">
        <img src="header_gif.gif"
            alt="Header image" style="
      width: 100%;
      position: relative;
      max-width: 100%;
      height: auto;
      display: block;
    ">
    </div>

    <div style="display:none" id="thanks_header">
        <img src="header_gif.gif"
            alt="Header image" style="
      width: 100%;
      position: relative;
      max-width: 100%;
      height: auto;
      display: block;
    ">
    </div>
    <div id="hello">
        <h1 align="center">Les productions Kadance</h1>
        <p><b>Bienvenue dans le répertoire des artistes Kadance !</b>
            <br><br>
            Que tu sois artiste solo, en duo, en groupe ou collectif, ce formulaire est là pour te permettre de
            t’inscrire et qu’on puisse te contacter pour nos prochaines soirées Kadance.
            <br><br>
            Raconte-nous ce que tu fais, ton univers, votre vibe — plus on en sait, mieux c’est !
            <br><br>
            On a hâte de te découvrir, et de te retrouver sur l’un de nos prochains évènements :)
            <br><br>
            Grâce à cette plateforme, Kadance souhaite mettre en lumière et soutenir une scène artistique plus
            accessible, inclusive et diverse.
        </p>
    </div>
    <form onsubmit="submitForm(); return false;">
        <div>
            <inline><label>Type de performance:</label>
                <div style="padding-top: 15px;" id="Type_de_performance"></div>
            </inline>
        </div>

        <div id="music-questions" style="display:none">
            <p>Tu peux choisir ton style de musique parmi les genres et sous-genres proposés. Tu peux également décrire
                ton style avec tes mots !</p>
            <label>Style de musique:</label>
            <div style="padding-top: 7px;" id="Style_musique"></div>

            <label>Sous style de musique – 1:</label>
            <div style="padding-top: 7px;" id="Sous_style_musique_1"></div>

            <label>Sous style de musique – 2:</label>
            <div style="padding-top: 7px;" id="Sous_style_musique_2"></div>

            <label>Sous style de musique – 3:</label>
            <div style="padding-top: 7px;" id="Sous_style_musique_3"></div>
        </div>

        <div id="prestation-questions" style="display:none">
            <p>Tu peux choisir ton style de prestation parmi les genres et sous-genres proposés. Tu peux également
                décrire ton style avec tes mots !</p>
            <label>Style de Prestation:</label>
            <div style="padding-top: 7px;" id="Style_Prestation"></div>

            <div id="prestation-danse-1" style="display:none">
                <label>Sous-style - Danse – 1:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Danse_1"></div>
            </div>
            <div id="prestation-danse-2" style="display:none">
                <label>Sous-style - Danse – 2:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Danse_2"></div>
            </div>
            <div id="prestation-danse-3" style="display:none">
                <label>Sous-style - Danse – 3:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Danse_3"></div>
            </div>

            <div id="prestation-cirque-1" style="display:none">
                <label>Sous-style - Cirque – 1:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Cirque_1"></div>
            </div>
            <div id="prestation-cirque-2" style="display:none">
                <label>Sous-style - Cirque – 2:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Cirque_2"></div>
            </div>
            <div id="prestation-cirque-3" style="display:none">
                <label>Sous-style - Cirque – 3:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Cirque_3"></div>
            </div>

            <div id="prestation-alt-1" style="display:none">
                <label>Sous-style - Performances Alternatives et Artistiques – 1:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Performances_Alternatives_et_Artistiques_1"></div>
            </div>
            <div id="prestation-alt-2" style="display:none">
                <label>Sous-style - Performances Alternatives et Artistiques – 2:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Performances_Alternatives_et_Artistiques_2"></div>
            </div>
            <div id="prestation-alt-3" style="display:none">
                <label>Sous-style - Performances Alternatives et Artistiques – 3:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Performances_Alternatives_et_Artistiques_3"></div>
            </div>

            <div id="prestation-firework-1" style="display:none">
                <label>Sous-style - Fireworks – 1:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Fireworks_1"></div>
            </div>
            <div id="prestation-firework-2" style="display:none">
                <label>Sous-style - Fireworks – 2:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Fireworks_2"></div>
            </div>
            <div id="prestation-firework-3" style="display:none">
                <label>Sous-style - Fireworks – 3:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Fireworks_3"></div>
            </div>

            <div id="prestation-theatre-1" style="display:none">
                <label>Sous-style - Théatre – 1:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Thatre_1"></div>
            </div>
            <div id="prestation-theatre-2" style="display:none">
                <label>Sous-style - Théatre – 2:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Thatre_2"></div>
            </div>
            <div id="prestation-theatre-3" style="display:none">
                <label>Sous-style - Théatre – 3:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Thatre_3"></div>
            </div>

            <div id="prestation-perf-visuelle-1" style="display:none">
                <label>Sous-style - Performances Visuelle – 1:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Performances_Visuelle_1"></div>
            </div>
            <div id="prestation-perf-visuelle-2" style="display:none">
                <label>Sous-style - Performances Visuelle – 2:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Performances_Visuelle_2"></div>
            </div>
            <div id="prestation-perf-visuelle-3" style="display:none">
                <label>Sous-style - Performances Visuelle – 3:</label>
                <div style="padding-top: 7px;" id="Sousstyle_Performances_Visuelle_3"></div>
            </div>
        </div>
        <div id="personal-questions" style="display: none;">
            <label for="prenom">Ton prénom:</label>
            <input style="padding-top: 7px;" type="text" name="prenom" id="prenom">

            <label for="nom">Ton nom:</label>
            <input style="padding-top: 7px;" type="text" name="nom" id="nom">

            <div id="identit-de-genre">
                <label>Identité de genre:</label>
                <div style="padding-top: 7px;" id="Identit_de_genre"></div>
            </div><br>
            <div id="prestation">
                <label>Prestation:</label>
                <div style="padding-top: 7px;" id="Prestation"></div>
            </div>
            <small>Ce champ est requis</small>
            <br><br>
            <label for="Nom_artiste">Nom d'artiste / de groupe:</label>
            <input style="padding-top: 7px;" type="text" name="Nom_artiste" id="Nom_artiste">


            <label for="mail">Ton courriel :</label>
            <input style="padding-top: 7px;" type="text" name="mail" id="mail">
            <small>Ce champ est requis</small>

            <label for="tel">Numéro de tel :</label>
            <input style="padding-top: 7px;" type="text" name="tel" id="tel">
            <small>Ce champ est requis</small>

            <label for="adresse">Ta ville :</label>
            <input style="padding-top: 7px;" type="text" name="adresse" id="adresse">
            <small>Ce champ est requis</small>

            <label for="annee">Nombre d'année d'expérience :</label>
            <input style="padding-top: 7px;" type="text" name="annee" id="annee">
            <small>Ce champ est requis</small>

            <label for="reseaux">Lien pour tes réseaux sociaux :</label>
            <input style="padding-top: 7px;" type="text" name="reseaux" id="reseaux">

            <label for="liens">Autres liens (portfolio, soundcloud, page ..) :</label>
            <input style="padding-top: 7px;" type="text" name="liens" id="liens">
            <br>
            <label for="parle">Parles-nous de ton art et de toi, afin que nous puissions mieux comprendre ce tu proposes
                ( par exemple, ce qui caractérise ton art, la durée de tes prestations ect..) :</label>
            <input style="padding-top: 7px;" type="text" name="parle" id="parle">
        </div><br>
        <div id="submit-container" style="display: none;">
            <button type="submit">Submit</button>
        </div>
        </div>

        </div>

    </form>


    <div id="thank-you" style="display: none;">
        <h4 align="center">✅ Merci pour ton inscription ! ✅</h4>
        <p>On a bien reçu ta présentation — un grand merci pour le temps que tu y as consacré.
            <br>
            L’équipe Kadance prendra contact avec toi (ou vous) dès qu’une occasion se présente.
        </p>
        <p>
            En attendant tu peux suivre nos actus sur notre compte <b>Instagram</b> : <a
                href="https://www.instagram.com/kadance_mtl/">Kadance_mtl</a>
        </p>
        <p>À très vite sur scène ou sur la piste de dance ✨
            <br>
            Kadance 💟
        </p>
    </div>

    <div id="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
        </div>
    </div>
</body>

</html>